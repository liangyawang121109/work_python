import psutil
import paramiko

serverInfo ={}


def getServerMem(self):
    self.command = {'memory': 'free -m', 'disk': 'df -h'}
    client = paramiko.SSHClient()
    """自动保存认证策略到本地know_hosts文件"""
    client.set_missing_host_key_policy(paramiko.AutoAddPolicy())

    client.connect(hostname=self.host,port=self.port,username=self.user,password=self.password)
    stin,stout,sterr = client.exec_command(self.command[self.option])
    print(self.command)
    print(stout.read().decode('utf-8'))
    client.close()
def getServerDisk(self):
    client = paramiko.SSHClient()
    """自动保存认证策略到本地know_hosts文件"""
    client.set_missing_host_key_policy(paramiko.AutoAddPolicy())

    client.connect(hostname=self.host, port=self.port, username=self.user, password=self.password)
    stin, stout, sterr = client.exec_command('df -h')
    print(stout.read().decode('utf-8'))
    client.close()



hostlis = ['192.168.12.231','192.168.12.93']



